const{src:src,dest:dest,series:series}=require("gulp"),plumber=require("gulp-plumber"),browserSync=require("browser-sync"),zip=require("gulp-zip"),del=require("del"),uglify=require("gulp-uglify-es").default,concat=require("gulp-concat"),rename=require("gulp-rename"),merge=require("merge-stream");function move(){const e=src(["./../app/auth/**/*.js"]).pipe(uglify()).pipe(dest("./../dist/risk-trac-um-api/app/auth")),s=src(["./../app/auth/**","!./../app/auth/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/app/auth")),i=src(["./../app/user-management/**/*.js"]).pipe(uglify()).pipe(dest("./../dist/risk-trac-um-api/app/user-management")),p=src(["./../app/user-management/**","!./../app/user-management/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/app/user-management")),r=src(["./../config/**/*"]).pipe(dest("./../dist/risk-trac-um-api/config")),t=src(["./../data-access/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/data-access")),a=src(["./../data-access/**","!./../data-access/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/data-access")),c=src(["./../log-files/**/*"]).pipe(dest("./../dist/risk-trac-um-api/log-files")),u=src(["./../node_modules/**/*"]).pipe(dest("./../dist/risk-trac-um-api/node_modules")),d=src(["./../utility/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/utility")),n=src(["./../utility/**","!./../utility/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/utility")),o=src(["./../app-server.js"]).pipe(uglify()).pipe(dest("./../dist/risk-trac-um-api/")),m=src(["./../*.json"]).pipe(dest("./../dist/risk-trac-um-api/")),l=src(["./../api-docs/**/*.js"]).pipe(uglify()).pipe(dest("./../dist/risk-trac-um-api/api-docs/")),g=src(["./../api-docs/**","!./../api-docs/**/*.js"]).pipe(dest("./../dist/risk-trac-um-api/api-docs/"));return merge(e,s,i,p,r,t,a,c,u,d,n,o,m,l,g)}function clean(){return del("./../dist/**/*",{force:!0})}function zipDist(){return src("./../dist/**/*").pipe(zip("risk-trac-um-api.zip")).pipe(dest("./../dist/"))}function bsReload(e){browserSync.reload(),e()}function scripts(){return src("*.js").pipe(plumber({errorHandler:function(e){console.log(e.message),this.emit("end")}})).pipe(concat("main.js")).pipe(dest("scripts/")).pipe(rename({suffix:".min"})).pipe(uglify()).pipe(dest("scripts/")).pipe(browserSync.reload({stream:!0}))}exports.clean=clean,exports.move=move,exports.zip=zipDist,exports.build=series(clean,move),exports.package=series(clean,move,zipDist),exports.scripts=scripts,exports["bs-reload"]=bsReload;