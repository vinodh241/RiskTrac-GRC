<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content modalContent">
    <div class="modal-header bgSeaGreenGradient text-white allModalHeader">
      <h5 class="modal-title modalh5" id="staticBackdropLabel">Send Communication</h5>
      <button type="button" mat-icon-button class="close customClose example-icon" mat-dialog-close aria-label="Close" id="closeSendCommunicaiton">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body greyModalBody vscroll" style="height: 56vh;">
      <div class="row mx-3">
        <div class="col-6 ps-0 pr-5">
          <div class="row mx-0">
            <div class="col-6 ps-0 pr-2">
              <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4">Communication ID</label>
              <div class="readonlyTxt" id="communicationId">{{service.crisisCommData?.CommunicationID}}</div>
            </div>
            <div class="col-6 ps-2 pr-0">
              <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4">Category</label>
              <div class="readonlyTxt" id="category">{{service.crisisCommData?.CrisisCategory}}</div>
            </div>
            <div class="col-12 px-0">
              <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4">Communication Title</label>
              <div class="readonlyTxt" id="communicationTitle">{{service.crisisCommData?.CommunicationTitle}}</div>
            </div>
            <div class="col-12 px-0">
              <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4">Recipients</label>
              <div class="readonlyTxt" id="Recipents">{{service.crisisCommData?.RecipentOption }}: <span class="fw-bold">{{getRecipentsValue(service.crisisCommData?.RecipentOptionID)}}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-6 ps-5 pr-0">
          <div class="row mx-0">
            <label for="" class="w-100 p-0 col-form-label slctLbl text-start mt-4">Attachments</label>
            <div class="w-100 ModaltableContent ModaltableContentBlue heightVH-28">
              <div class="w-100 h-100 vscroll">
                <table class="w-100 modalTble seablueTble smallTable">
                  <tbody>
                    <tr *ngFor="let file of service.crisisCommData?.Attachments;index as i">
                      <td class="w-4">{{i+1}}</td>
                      <td class="w-70" (click)="service.downloadFile(file.FileContentID)" [id]="'download'+ file.AttachmentID" class="cursor-pointer"><img src="./assets/images/icon-attachment.svg" >
                        <a class="tblLnk">{{file.AttachmentName}}</a>
                      </td>
                      <td class="w-26">{{formatedDate(file.CreatedDate)}}</td>
                    </tr>
                    <tr *ngIf="service.crisisCommData?.Attachments?.length == 0">
                      <td [attr.colspan]="3" class="no-attach">No attachements added</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 px-0">
          <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4">Email Title</label>
          <div class="readonlyTxt"id="emailTitle">{{service.crisisCommData?.EmailTitle }}</div>
        </div>
        <div class="col-6 px-0 py-1">
          <label for="" class="w-100 p-0 col-form-label slctLblro text-start mt-4 position-relative">Preview Email
            Content <span class="editEmail position-absolute ms-4"  id="editCrisisMessage"
             (click)="editCrisisMessage('Edit', service.crisisCommData)" ><img src="./assets/images/icon-edit2.svg"
                style="width: 12%;" alt=""> Edit Content</span></label>
          <!-- <div class="readonlyText contentEmail vscroll mt-2" [innerHTML]="service.crisisCommData?.EmailContent"></div> -->
          <ckeditor  [(ngModel)]="service.crisisCommData.EmailContent" id="emailContent" [readOnly]="true"
          [config]="disabledCkeConfig" [editorUrl]="ckeConfig.ckeditorUrl" debounce="300"></ckeditor>
        </div>
      </div>
    </div>
    <mat-error *ngIf="saveerror">{{saveerror}}</mat-error>
    <div class="modal-footer modalFooter">
      <button type="button"  id="cancelCrisisMessage" mat-button class="btn btn-secondary modalCancelBtn me-2" mat-dialog-close>Cancel</button>
      <button type="button"  id="sendCommunication" class="btn btn-primary modalColorBtn modalColorBtnOrange"(click)="publishCommunication()"><img
          src="./assets/images/icon-send.svg" alt=""> Send Communication </button>
    </div>
  </div>
</div>
